from centy_Library import *

print(f"battery voltage : {Brick.battery.voltage()}")
timer = StopWatch()
Init()
MoveTime(-80,0.6,0,1)
imux = Brick.imu.rotation(TopAxis)
wait(50)
RobotCompas(80,80,DREAPTA,0,1,1)
wait(50)
MoveSyncGyro(80,10*cm,1,1,1)
wait(50)
RobotCompas(80,80,STANGA,0,1,1)
wait(150)
RobotSpin(70,abs(imux - Brick.imu.rotation(TopAxis)),(imux - Brick.imu.rotation(TopAxis))/abs(imux - Brick.imu.rotation(TopAxis)),1,0,0,1)
wait(150)
run_task(liftGoTo(40,1,0,500))
MoveSyncGyro(80,50*cm,1,1,1)
run_task(liftGoTo(0,1,0,500))
wait(100)
run_task(liftGoTo(40,1,0,500))
wait(100)
RobotSpin(60,abs(imux - Brick.imu.rotation(TopAxis)),(imux - Brick.imu.rotation(TopAxis))/abs(imux - Brick.imu.rotation(TopAxis)),1,0,0,1)
wait(150)
RobotSpin(70,90,DREAPTA,1,0,1,1)
wait(100)
print("ACUM CU SPATELE")
MoveSyncGyro(80,20*cm,1,1,1)
wait(100)
RobotSpin(80,abs(imux - Brick.imu.rotation(TopAxis)),(imux - Brick.imu.rotation(TopAxis))/abs(imux - Brick.imu.rotation(TopAxis)),1,0,1,1)
wait(100)
MoveSyncGyro(60,10*cm,1,1,1)
MoveTime(80,0.2,0,1)
run_task(clawGoTo(-70,1,0,500))
wait(100)
MoveSyncGyro(-70,9*cm,0,0,1)
wait(100)
imux = imux + 90
RobotSpin(85,abs(imux - Brick.imu.rotation(TopAxis)),(imux - Brick.imu.rotation(TopAxis))/abs(imux - Brick.imu.rotation(TopAxis)),1,0,1,1)
wait(50)
imux = imux - 90
MoveSyncGyro(70,6*cm,1,1,1)
wait(50)
RobotSpin(70,88,DREAPTA,1,0,1,1)
MoveSyncGyro(-70,25*cm,0,0,1)
MoveTime(-80,0.6,0,1)
run_task(clawGoTo(0,1,0,500))
run_task(liftGoTo(0,0.8,0,400))

#caz ROSU
MoveSyncGyro(80,58*cm,1,1,1)
wait(100)
imux = imux + 270
RobotSpin(80,88,DREAPTA,1,0,1,1)
wait(100)
imux = imux - 270
run_task(clawGoTo(0,1,0,500))
MoveSyncGyro(80,28*cm,1,1,0)
MoveSyncGyro(50,9*cm,0,1,1)
run_task(clawGoTo(-200,1,0,500))
wait(50)
ArcMove(-90,11*cm,184,DREAPTA,0,1,1)
wait(100)
MoveSyncGyro(-90,20*cm,0,0,0)
MoveTime(-90,1,0,1)
LF1SEncoder(60, 27*cm, DREAPTA, 1, 0, 0)
MoveSyncGyro(80,38*cm,0,1,1)
SMove(80, 8, DREAPTA, 0, 0, 1)
print(timer.time()/1000)
wait(20000)